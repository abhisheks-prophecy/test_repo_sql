{"macro_BI8ChjCA":{"name":"test_unique_qa","macroId":"macro_BI8ChjCA","macroType":"query","definition":"\n\nselect count(*)\nfrom (\n\n    select\n        {{ column_name }}\n    from {{ model }}\n    where {{ column_name }} is not null\n    group by {{ column_name }}\n    having count(*) >= 1\n) validation_errors","parameters":{"type":"record","fields":[{"name":"model","kind":{"type":"unknown","value":"","actualValue":"unknown"},"optional":false,"isWorkflowNodeConfiguration":false},{"name":"column_name","kind":{"type":"unknown","value":"","actualValue":"unknown"},"optional":false,"isWorkflowNodeConfiguration":false}]},"staleState":"none","propertiesFile":{"name":"test_expressions","content":"---\nversion: 2\nmacros:\n- name: \"customers_all\"\n  description: \"select all customers whose id is more than given max\"\n  arguments:\n  - name: \"id_max\"\n    type: \"unknown\"\n  macroType: \"query\"\n- name: \"accepted_values_complex\"\n  arguments:\n  - name: \"column_name\"\n    type: \"unknown\"\n  - name: \"model\"\n    type: \"unknown\"\n  - name: \"values\"\n    type: \"unknown\"\n  macroType: \"query\"\n- name: \"test_unique_qa\"\n  arguments:\n  - name: \"model\"\n    type: \"unknown\"\n  - name: \"column_name\"\n    type: \"unknown\"\n  macroType: \"query\"\n","path":"SnowSimpleSchemaProject/macros/test_expressions/test_expressions.yml","projectConfiguration":null,"folderConfiguration":{"version":2,"macros":[{"name":"customers_all","description":"select all customers whose id is more than given max","arguments":[{"name":"id_max","type":"unknown"}],"macroType":"query"},{"name":"accepted_values_complex","arguments":[{"name":"column_name","type":"unknown"},{"name":"model","type":"unknown"},{"name":"values","type":"unknown"}],"macroType":"query"},{"name":"test_unique_qa","arguments":[{"name":"model","type":"unknown"},{"name":"column_name","type":"unknown"}],"macroType":"query"}]},"packagesYml":null}},"macro_oDfi9lvc":{"name":"test_not_null_qa","macroId":"macro_oDfi9lvc","macroType":"query","definition":"\n\nselect count(*) from {{ model }} where {{ column_name }} is null","parameters":{"type":"record","fields":[{"name":"model","kind":{"type":"unknown"},"optional":false,"isWorkflowNodeConfiguration":false},{"name":"column_name","kind":{"type":"unknown"},"optional":false,"isWorkflowNodeConfiguration":false}]},"staleState":"none"},"macro_y5EuIHka":{"name":"test_relationships_qa","macroId":"macro_y5EuIHka","macroType":"query","definition":"\n\nselect count(*)\nfrom (\n    select {{ model1_col }} as id from {{ model }}\n) as child\nleft join (\n    select {{ model2_col }} as id from {{ model2 }}\n) as parent on parent.id = child.id\nwhere child.id is not null\n  and parent.id is null","parameters":{"type":"record","fields":[{"name":"model1","kind":{"type":"unknown"},"optional":false,"isWorkflowNodeConfiguration":false},{"name":"model2","kind":{"type":"unknown"},"optional":false,"isWorkflowNodeConfiguration":false},{"name":"model1_col","kind":{"type":"unknown"},"optional":false,"isWorkflowNodeConfiguration":false},{"name":"model2_col","kind":{"type":"unknown"},"optional":false,"isWorkflowNodeConfiguration":false}]},"staleState":"none"},"macro_DmTadUFZ":{"name":"multi_macro_genius","macroId":"macro_DmTadUFZ","macroType":"query","definition":"\n\nSELECT count(*) FROM TABLE(generator(rowcount => 10))","parameters":{"type":"record","fields":[]},"staleState":"none"},"macro_frGxHD2G":{"name":"payments_order_id_table_null_macro","macroId":"macro_frGxHD2G","macroType":"query","definition":"\n\n\nwith all_values as (\n    select distinct ORDER_ID as ORDER_ID_MAIN from payments\n),\npayments_validation_errors as (\n    select\n        ORDER_ID_MAIN\n    from all_values\n    where ORDER_ID_MAIN not in (\n        {% for accepted_value in accepted_values %}\n            {% if accepted_value >= 5 %}\n            5\n            {% else %}\n            {{ accepted_value }}\n            {% endif %}\n            {% if not loop.last %},{% endif %}\n        {% endfor %}\n    )\n)\n\nselect count(*) from payments_validation_errors","parameters":{"type":"record","fields":[{"name":"accepted_values","kind":{"type":"unknown","value":"[1, 2]"},"optional":true,"isWorkflowNodeConfiguration":false}]},"staleState":"none"},"macro_Rf5IhkVR":{"name":"qa_customers_all_above_given_id","macroId":"macro_Rf5IhkVR","macroType":"query","definition":"\nSELECT * from customers where id > {{ id_min }}","parameters":{"type":"record","fields":[{"name":"id_min","kind":{"type":"long","value":2},"optional":true,"isWorkflowNodeConfiguration":false}]},"staleState":"none"}}