{
  "metainfo" : {
    "id" : "1",
    "language" : "python",
    "fabricId" : "10",
    "frontEndLanguage" : "sql",
    "mode" : "stream",
    "udfs" : {
      "language" : "python",
      "udfs" : [ ]
    },
    "udafs" : {
      "language" : "python",
      "code" : ""
    },
    "configuration" : {
      "common" : {
        "type" : "record",
        "fields" : [ ]
      },
      "oldCommon" : {
        "type" : "record",
        "fields" : [ ]
      },
      "fabrics" : { },
      "instances" : { },
      "selected" : "default",
      "nonEditable" : [ ],
      "isSubscribedPipelineWithPipelineConfigs" : false
    },
    "sparkConf" : [ ],
    "hadoopConf" : [ ],
    "codeMode" : "sparse",
    "buildSystem" : "maven",
    "externalDependencies" : [ ],
    "isImported" : false,
    "interimMode" : "Full",
    "interimModeEnabled" : true,
    "visualCodeInterimMode" : "Disabled",
    "recordsLimit" : {
      "enabled" : false,
      "value" : 1000
    },
    "topLevelPackage" : "jsontype"
  },
  "connections" : [ {
    "id" : "DlvKmOKRjRrdZHN1bFjJS",
    "source" : "kNS0Hmr_Oy0GWpE1O9aam$$Vg6ztMeqKUuP1rzQP73ZB",
    "sourcePort" : "pk5NUMZVcfDQOLSvpykij$$lJEyz8-DhKHhsEEMI5qVu",
    "target" : "I24kKolALYOs4C1IKW26c$$eDnJF6yAeRYWR8N-y46AQ",
    "targetPort" : "AUyFGH4N3fDeWZfSCjUBt$$hpRHu-f7hNBMDxvapjoKP"
  }, {
    "id" : "0UTMakEt5VmsGRdHloljW",
    "source" : "kNS0Hmr_Oy0GWpE1O9aam$$Vg6ztMeqKUuP1rzQP73ZB",
    "sourcePort" : "pk5NUMZVcfDQOLSvpykij$$lJEyz8-DhKHhsEEMI5qVu",
    "target" : "I24kKolALYOs4C1IKW26c$$eDnJF6yAeRYWR8N-y46AQ",
    "targetPort" : "6_eLfsW2qqR73nZ6Z61UV$$gEl1nFS296R0idqRwrgsh"
  }, {
    "id" : "9k5xJm8pVqgIeSIy2EC8G",
    "source" : "I24kKolALYOs4C1IKW26c$$eDnJF6yAeRYWR8N-y46AQ",
    "sourcePort" : "sEINRZEK1vcZVdDbH9I9z$$MICyGGOWcMhsh7CifdEle",
    "target" : "oQ-jxTuhLDSmgUNR30dkk$$hxUUGrD156rqswF_69pAQ",
    "targetPort" : "mpvxzAAcKg2mpFpJgLJ8D$$K6vy58NYDpWPy02FpK8tf"
  }, {
    "id" : "xNv5uJMh2gRK5_8riKJwm",
    "source" : "kNS0Hmr_Oy0GWpE1O9aam$$Vg6ztMeqKUuP1rzQP73ZB",
    "sourcePort" : "pk5NUMZVcfDQOLSvpykij$$lJEyz8-DhKHhsEEMI5qVu",
    "target" : "SgJrYmSu-gguVrd0bzfp3$$H0i52-rhJT7qZ8h-dXb9x",
    "targetPort" : "9G10BbZtaXLqpJOMYknbm$$A3CoHyHCj2fNsMCH9jI04"
  }, {
    "id" : "cZmY_MRlBQ3kRoUEYlqGG",
    "source" : "oQ-jxTuhLDSmgUNR30dkk$$hxUUGrD156rqswF_69pAQ",
    "sourcePort" : "3_MItff3C6-kr4QA1M21Q$$9gxvN1TosP-rlmdRq07AB",
    "target" : "i8NEiAJ6JtmtMX_02YZbw$$AQVu9jQuXBr7sc5tz6-H6",
    "targetPort" : "gpPOstnuhe6WyM3KMi8-0$$c5HEE6JBAmm8fprzMGM-Q"
  }, {
    "id" : "guDF4IV6mp0C66ACk29mB",
    "source" : "SgJrYmSu-gguVrd0bzfp3$$H0i52-rhJT7qZ8h-dXb9x",
    "sourcePort" : "n0INnkyHvsxah7TxuHNj-$$LB82I76zKq5NNn2VcDUBo",
    "target" : "1P5upI8B7QlXk_988tbR_$$DDEd17y7Ic-_Nk1gwm-W5",
    "targetPort" : "G91l3GqvYc_JFncPpwX4S$$mTHJHsdIFo12_TrZhlhIl"
  }, {
    "id" : "kz-r-0NKrqGFPT-F2Rb_r",
    "source" : "kNS0Hmr_Oy0GWpE1O9aam$$Vg6ztMeqKUuP1rzQP73ZB",
    "sourcePort" : "pk5NUMZVcfDQOLSvpykij$$lJEyz8-DhKHhsEEMI5qVu",
    "target" : "LZYBQ4KhKaS2IZMyPms3v$$x9AXJyeVS-t08Jsfcu5iI",
    "targetPort" : "veuKI5HtCX600x09NQsvL$$_3iJI5ZcUlMthr8o5RYSc"
  } ],
  "processes" : {
    "kNS0Hmr_Oy0GWpE1O9aam$$Vg6ztMeqKUuP1rzQP73ZB" : {
      "id" : "kNS0Hmr_Oy0GWpE1O9aam$$Vg6ztMeqKUuP1rzQP73ZB",
      "component" : "StreamingSource",
      "metadata" : {
        "label" : "JSONSource",
        "slug" : "JSONSource",
        "x" : 160,
        "y" : 266.4000000000002,
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ ],
        "outputs" : [ {
          "id" : "pk5NUMZVcfDQOLSvpykij$$lJEyz8-DhKHhsEEMI5qVu",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false
      },
      "properties" : {
        "datasetId" : "datasets/s3_json_autoloader_dir"
      }
    },
    "SgJrYmSu-gguVrd0bzfp3$$H0i52-rhJT7qZ8h-dXb9x" : {
      "id" : "SgJrYmSu-gguVrd0bzfp3$$H0i52-rhJT7qZ8h-dXb9x",
      "component" : "Aggregate",
      "metadata" : {
        "label" : "Aggregate_1",
        "slug" : "Aggregate_1",
        "x" : 547.6000000000001,
        "y" : 428.4,
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "9G10BbZtaXLqpJOMYknbm$$A3CoHyHCj2fNsMCH9jI04",
          "slug" : "in0"
        } ],
        "outputs" : [ {
          "id" : "n0INnkyHvsxah7TxuHNj-$$LB82I76zKq5NNn2VcDUBo",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false
      },
      "properties" : {
        "queryName" : "StructType([StructField('c_array', ArrayType(StringType(), True), True), StructField('c_bigint', LongType(), True), StructField('c_boolean', BooleanType(), True), StructField('c_double', DoubleType(), True), StructField('c_float', DoubleType(), True), StructField('c_int', LongType(), True), StructField('c_smallint', LongType(), True), StructField('c_string', StringType(), True), StructField('c_struct', StructType([StructField('city', StringType(), True), StructField('pin', StringType(), True), StructField('state', StringType(), True)]), True), StructField('c_tinyint', LongType(), True), StructField('p_int', IntegerType(), True), StructField('p_float', DoubleType(), True), StructField('p_string', StringType(), True)])",
        "allIns" : false,
        "doPivot" : false,
        "aggregate" : [ {
          "target" : "c_tinyint",
          "expression" : {
            "format" : "sql",
            "expression" : "first(c_tinyint)"
          },
          "description" : "",
          "_row_id" : null
        }, {
          "target" : "c_boolean",
          "expression" : {
            "format" : "sql",
            "expression" : "first(c_boolean)"
          },
          "description" : "",
          "_row_id" : null
        }, {
          "target" : "c_double",
          "expression" : {
            "format" : "sql",
            "expression" : "first(c_double)"
          },
          "description" : "",
          "_row_id" : null
        } ],
        "allowSelection" : true,
        "pivotColumn" : null,
        "pivotValues" : [ ],
        "activeTab" : "aggregate",
        "columnsSelector" : [ "SHRdaU0Ngxfuy95aUGQSC$$Fv_huxuFFywn28qcIVHYM##c_double", "SHRdaU0Ngxfuy95aUGQSC$$Fv_huxuFFywn28qcIVHYM##p_float", "SHRdaU0Ngxfuy95aUGQSC$$Fv_huxuFFywn28qcIVHYM##c_boolean", "SHRdaU0Ngxfuy95aUGQSC$$Fv_huxuFFywn28qcIVHYM##c_tinyint", "SHRdaU0Ngxfuy95aUGQSC$$Fv_huxuFFywn28qcIVHYM##p_string", "SHRdaU0Ngxfuy95aUGQSC$$Fv_huxuFFywn28qcIVHYM##p_int" ],
        "groupBy" : [ {
          "target" : "p_int",
          "expression" : {
            "format" : "sql",
            "expression" : "p_int"
          },
          "description" : "",
          "_row_id" : null
        }, {
          "target" : "p_float",
          "expression" : {
            "format" : "sql",
            "expression" : "p_float"
          },
          "description" : "",
          "_row_id" : null
        }, {
          "target" : "p_string",
          "expression" : {
            "format" : "sql",
            "expression" : "p_string"
          },
          "description" : "",
          "_row_id" : null
        } ],
        "watermarks" : [ {
          "isStreamingDF" : false,
          "portId" : "in0",
          "portSlug" : "in0",
          "expression" : "",
          "watermarkValue" : ""
        } ]
      }
    },
    "I24kKolALYOs4C1IKW26c$$eDnJF6yAeRYWR8N-y46AQ" : {
      "id" : "I24kKolALYOs4C1IKW26c$$eDnJF6yAeRYWR8N-y46AQ",
      "component" : "SetOperation",
      "metadata" : {
        "label" : "SetOperation_1",
        "slug" : "SetOperation_1",
        "x" : 446.80000000000007,
        "y" : 230.39999999999998,
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "AUyFGH4N3fDeWZfSCjUBt$$hpRHu-f7hNBMDxvapjoKP",
          "slug" : "in0"
        }, {
          "id" : "6_eLfsW2qqR73nZ6Z61UV$$gEl1nFS296R0idqRwrgsh",
          "slug" : "in1"
        } ],
        "outputs" : [ {
          "id" : "sEINRZEK1vcZVdDbH9I9z$$MICyGGOWcMhsh7CifdEle",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false
      },
      "properties" : {
        "operationType" : "unionAll"
      }
    },
    "i8NEiAJ6JtmtMX_02YZbw$$AQVu9jQuXBr7sc5tz6-H6" : {
      "id" : "i8NEiAJ6JtmtMX_02YZbw$$AQVu9jQuXBr7sc5tz6-H6",
      "component" : "StreamingTarget",
      "metadata" : {
        "label" : "JSONTarget",
        "slug" : "JSONTarget",
        "x" : 1030,
        "y" : 179.99999999999994,
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "gpPOstnuhe6WyM3KMi8-0$$c5HEE6JBAmm8fprzMGM-Q",
          "slug" : "in0"
        } ],
        "outputs" : [ ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false
      },
      "properties" : {
        "datasetId" : "datasets/s3_json_autoloader_dir_target"
      }
    },
    "oQ-jxTuhLDSmgUNR30dkk$$hxUUGrD156rqswF_69pAQ" : {
      "id" : "oQ-jxTuhLDSmgUNR30dkk$$hxUUGrD156rqswF_69pAQ",
      "component" : "SchemaTransform",
      "metadata" : {
        "label" : "SchemaTransform_1",
        "slug" : "SchemaTransform_1",
        "x" : 668.8000000000001,
        "y" : 233.99999999999994,
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "mpvxzAAcKg2mpFpJgLJ8D$$K6vy58NYDpWPy02FpK8tf",
          "slug" : "in0"
        } ],
        "outputs" : [ {
          "id" : "3_MItff3C6-kr4QA1M21Q$$9gxvN1TosP-rlmdRq07AB",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false
      },
      "properties" : {
        "columnsSelector" : [ "yDxJADvTJtFRnIZio_34M$$Y61iBxpAhP2GRKO4NHb_5##c_bigint", "yDxJADvTJtFRnIZio_34M$$Y61iBxpAhP2GRKO4NHb_5##c_tinyint", "yDxJADvTJtFRnIZio_34M$$Y61iBxpAhP2GRKO4NHb_5##c_string", "yDxJADvTJtFRnIZio_34M$$Y61iBxpAhP2GRKO4NHb_5##c_float", "yDxJADvTJtFRnIZio_34M$$Y61iBxpAhP2GRKO4NHb_5##c_smallint" ],
        "transformations" : [ {
          "kind" : "AddReplaceColumn",
          "AddReplaceColumn" : {
            "sourceColumn" : "c_bigint_string_concated",
            "expression" : {
              "format" : "sql",
              "expression" : "concat(c_bigint, c_string)"
            }
          },
          "DropColumn" : {
            "sourceColumn" : ""
          },
          "RenameColumn" : {
            "sourceColumn" : "",
            "targetColumn" : ""
          }
        }, {
          "kind" : "AddReplaceColumn",
          "AddReplaceColumn" : {
            "sourceColumn" : "c_bigint_added",
            "expression" : {
              "format" : "sql",
              "expression" : "c_bigint+c_smallint-c_tinyint"
            }
          },
          "DropColumn" : {
            "sourceColumn" : ""
          },
          "RenameColumn" : {
            "sourceColumn" : "",
            "targetColumn" : ""
          }
        }, {
          "kind" : "DropColumn",
          "DropColumn" : {
            "sourceColumn" : "c_bigint"
          },
          "RenameColumn" : {
            "sourceColumn" : "",
            "targetColumn" : ""
          },
          "AddReplaceColumn" : {
            "sourceColumn" : "",
            "expression" : {
              "expression" : "",
              "format" : "python"
            }
          }
        }, {
          "kind" : "DropColumn",
          "DropColumn" : {
            "sourceColumn" : "c_string"
          },
          "RenameColumn" : {
            "sourceColumn" : "",
            "targetColumn" : ""
          },
          "AddReplaceColumn" : {
            "sourceColumn" : "",
            "expression" : {
              "expression" : "",
              "format" : "python"
            }
          }
        }, {
          "kind" : "RenameColumn",
          "RenameColumn" : {
            "sourceColumn" : "c_float",
            "targetColumn" : "c_float_new"
          },
          "DropColumn" : {
            "sourceColumn" : ""
          },
          "AddReplaceColumn" : {
            "sourceColumn" : "",
            "expression" : {
              "expression" : "",
              "format" : "python"
            }
          }
        } ]
      }
    },
    "1P5upI8B7QlXk_988tbR_$$DDEd17y7Ic-_Nk1gwm-W5" : {
      "id" : "1P5upI8B7QlXk_988tbR_$$DDEd17y7Ic-_Nk1gwm-W5",
      "component" : "WindowFunction",
      "metadata" : {
        "label" : "WindowFunction_1",
        "slug" : "WindowFunction_1",
        "x" : 756.4,
        "y" : 435.6,
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "G91l3GqvYc_JFncPpwX4S$$mTHJHsdIFo12_TrZhlhIl",
          "slug" : "in0"
        } ],
        "outputs" : [ {
          "id" : "Jok1gClhEz2sg4gDAzH--$$5AB6ApemlJ9ED0AoJVeGX",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false
      },
      "properties" : {
        "userSpecifiedEnd" : null,
        "expressionColumns" : [ {
          "target" : "p_string",
          "expression" : {
            "format" : "sql",
            "expression" : "row_number()"
          },
          "description" : "",
          "_row_id" : null
        }, {
          "target" : "c_tinyint",
          "expression" : {
            "format" : "sql",
            "expression" : "row_number()"
          },
          "description" : "",
          "_row_id" : null
        } ],
        "frameType" : "row",
        "partitionColumns" : [ {
          "format" : "sql",
          "expression" : "p_int"
        } ],
        "activeTab" : "windowUse",
        "columnsSelector" : [ ],
        "specifyFrame" : false,
        "watermarks" : [ {
          "isStreamingDF" : false,
          "portId" : "in0",
          "portSlug" : "in0",
          "expression" : "",
          "watermarkValue" : ""
        } ],
        "frameStart" : null,
        "orderColumns" : [ {
          "expression" : {
            "format" : "sql",
            "expression" : "p_float"
          },
          "sortType" : "asc"
        } ],
        "frameEnd" : null,
        "userSpecifiedStart" : null
      }
    },
    "LZYBQ4KhKaS2IZMyPms3v$$x9AXJyeVS-t08Jsfcu5iI" : {
      "id" : "LZYBQ4KhKaS2IZMyPms3v$$x9AXJyeVS-t08Jsfcu5iI",
      "component" : "FlattenSchema",
      "metadata" : {
        "label" : "FlattenSchema_1",
        "slug" : "FlattenSchema_1",
        "x" : 373.6,
        "y" : 528,
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "veuKI5HtCX600x09NQsvL$$_3iJI5ZcUlMthr8o5RYSc",
          "slug" : "in0"
        } ],
        "outputs" : [ {
          "id" : "m3GnwPTzls84B_bS0IudS$$8sVGyZoFBYtwJOBroNZly",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false
      },
      "properties" : {
        "explodedColsNewName" : [ {
          "originalColToExplode" : "c_array",
          "updatedColToExplode" : "c_array",
          "colNameAfterExplode" : "c_array"
        } ],
        "fsExpressions" : [ {
          "exploded" : "✓",
          "flattenedExpression" : "c_array",
          "expression" : {
            "format" : "sql",
            "expression" : "c_array"
          },
          "targetTokens" : [ "c_array" ],
          "target" : "c_array"
        }, {
          "exploded" : "",
          "flattenedExpression" : "c_struct.city",
          "expression" : {
            "format" : "sql",
            "expression" : "c_struct.city"
          },
          "targetTokens" : [ "c_struct", "city" ],
          "target" : "c_struct-city"
        }, {
          "exploded" : "",
          "flattenedExpression" : "c_struct.pin",
          "expression" : {
            "format" : "sql",
            "expression" : "c_struct.pin"
          },
          "targetTokens" : [ "c_struct", "pin" ],
          "target" : "c_struct-pin"
        }, {
          "exploded" : "",
          "flattenedExpression" : "c_struct.state",
          "expression" : {
            "format" : "sql",
            "expression" : "c_struct.state"
          },
          "targetTokens" : [ "c_struct", "state" ],
          "target" : "c_struct-state"
        }, {
          "exploded" : "",
          "flattenedExpression" : "c_tinyint",
          "expression" : {
            "format" : "sql",
            "expression" : "c_tinyint"
          },
          "targetTokens" : [ "c_tinyint" ],
          "target" : "c_tinyint"
        }, {
          "exploded" : "",
          "flattenedExpression" : "p_int",
          "expression" : {
            "format" : "sql",
            "expression" : "p_int"
          },
          "targetTokens" : [ "p_int" ],
          "target" : "p_int"
        }, {
          "exploded" : "",
          "flattenedExpression" : "p_float",
          "expression" : {
            "format" : "sql",
            "expression" : "p_float"
          },
          "targetTokens" : [ "p_float" ],
          "target" : "p_float"
        }, {
          "exploded" : "",
          "flattenedExpression" : "p_string",
          "expression" : {
            "format" : "sql",
            "expression" : "p_string"
          },
          "targetTokens" : [ "p_string" ],
          "target" : "p_string"
        } ],
        "columnsSelector" : [ "uRjxi_cP6Fn9EvOOt7ELO$$zqXaNJHgHYdodBSnphOx1##p_float", "uRjxi_cP6Fn9EvOOt7ELO$$zqXaNJHgHYdodBSnphOx1##c_array", "uRjxi_cP6Fn9EvOOt7ELO$$zqXaNJHgHYdodBSnphOx1##p_string", "uRjxi_cP6Fn9EvOOt7ELO$$zqXaNJHgHYdodBSnphOx1##c_struct.state", "uRjxi_cP6Fn9EvOOt7ELO$$zqXaNJHgHYdodBSnphOx1##c_struct.pin", "uRjxi_cP6Fn9EvOOt7ELO$$zqXaNJHgHYdodBSnphOx1##c_struct.city", "uRjxi_cP6Fn9EvOOt7ELO$$zqXaNJHgHYdodBSnphOx1##p_int", "uRjxi_cP6Fn9EvOOt7ELO$$zqXaNJHgHYdodBSnphOx1##c_tinyint", "uRjxi_cP6Fn9EvOOt7ELO$$zqXaNJHgHYdodBSnphOx1##c_struct" ],
        "explodeColumns" : [ "c_array" ],
        "delimiter" : "-"
      }
    }
  },
  "ports" : {
    "inputs" : [ ],
    "outputs" : [ ],
    "selectedInputFields" : [ ],
    "isCustomOutputSchema" : false
  }
}